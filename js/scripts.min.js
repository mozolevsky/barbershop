"use strict";function Element(e){this._selector=e,this.element=document.querySelector(this._selector)}function InputElement(){Element.apply(this,arguments)}Element.prototype.addClass=function(e){this.element.classList.add(e)},Element.prototype.removeClass=function(e){this.element.classList.remove(e)},Element.prototype.hide=function(){this.element.classList.add("hide")},Element.prototype.show=function(){this.element.classList.remove("hide")},InputElement.prototype=Object.create(Element.prototype),InputElement.prototype.constructor=InputElement,InputElement.prototype.focus=function(){this.element.focus()};var form=new Element(".login-form"),bg=new Element(".background"),loginInput=new InputElement(".login-form__input_user"),passwordInput=new InputElement(".login-form__input_password"),storage=localStorage.getItem("login");document.addEventListener("click",function(e){var t=e.target;(t.classList.contains("user-block")||t.classList.contains("user-block__link"))&&(e.preventDefault(),bg.show(),form.show(),storage?(loginInput.element.value=storage,passwordInput.focus()):loginInput.focus()),t.classList.contains("background")&&(bg.hide(),form.hide()),t.classList.contains("login-form__cross")&&(bg.hide(),form.hide())}),form.element.addEventListener("submit",function(e){loginInput.element.value&&passwordInput.element.value?localStorage.setItem("login",loginInput.element.value):(console.log("Нужно ввести логин и пароль"),form.addClass("login-form_error"),e.preventDefault(),setTimeout(function(){form.removeClass("login-form_error")},2e3))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(bg.hide(),form.hide())});var minImagesBlock=document.querySelector(".item-gallery__additional-images"),bigImageBlock=document.querySelector(".item-gallery__big-image");minImagesBlock.addEventListener("click",function(e){var t=e.target;~t.parentNode.className.indexOf("item-gallery__additional-img")&&(bigImageBlock.firstElementChild.classList.add("animation-opacity"),setTimeout(function(){bigImageBlock.firstElementChild.classList.remove("animation-opacity")},600),bigImageBlock.firstElementChild.setAttribute("src",t.getAttribute("src")))});